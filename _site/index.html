<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  </head>
  <body>
  <div class="container">
<h1>TunerHelper</h1>
<br>
<div class="row">
  <div class="col">
    <div class="card">
      <div class="card-header">
        <h1>About</h1>
      </div>
      <div class="card-body">
        <div class="card-text">
          TunerHelper is a collection of free tools, calculators, and other information to help you tune your engine.
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#flowrate">
      Calculate Flow Rate
    </button>
  </div>
  <div class="col">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#pflow">
      Calculate Flow Rate @ Pressure
    </button>
  </div>
  <div class="col">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#BSFC">
      Calculate BSFC
    </button>
  </div>
  <div class="col">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#max_clocks">
      Calculate Max Clocks (Speeduino)
    </button>
  </div>
  <div class="col">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#mpglbs">
      MPG to Lbs/Hr (Gasoline)
    </button>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="flowrate" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Injector Flow Rate Calculator</h5>
</div>
<div class="modal-body">
    <form action="" id="fr">
        <div class="form-group col-xs-4 col-md-4">
            <label for="numInjectors">
                Number of injectors
            </label>
            <input type="number" id="numInjectors" oninput="UpdateFRForm()">
        </div>
        <div class="form-group col-xs-4 col-md-4">
            <label for="dutyCycle">
                Injector Duty Cycle (0.8 recommended)
            </label>
            <input type="number" id="dutyCycle" oninput="UpdateFRForm()" step="0.1"/>
        </div>
        <div class="form-group col-xs-4 col-md-4">
            <label for="hp">Horsepower</label>
            <input type="number" id="hp" oninput="UpdateFRForm()" />
        </div>
        <div class="form-group col-xs-4 col-md-4">
            <label for="bsfc">Brake Standard Fuel Consumption (BSFC)</label>
            <input type="number" id="bsfc" oninput="UpdateFRForm()" step="0.01"/>
        </div>
    </form>
</div>
<div class="modal-footer">
    <div style="float:left;">
        <h5>Injector Flow Rate: <div id="frres"></div> lbs/hr.</h5>
    </div>
    <br />
    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>

<script>
    var fr = document.forms["fr"];
    var frres = document.getElementById('frres');
    function UpdateFRForm() {
        var numInjectors = parseInt(fr.elements["numInjectors"].value);
        var dutyCycle = parseFloat(fr.elements["dutyCycle"].value);
        var hp = parseFloat(fr.elements["hp"].value);
        var bsfc = parseFloat(fr.elements["bsfc"].value);
        frres.innerText = ((hp * bsfc) / (numInjectors * dutyCycle)).toFixed(2).toString();

    }
</script>
    </div>
  </div>
</div>

<div class="modal fade" id="pflow" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
    <h5 class="modal-title">Fuel Pressure & Flow Rate Calculator</h5>
  </div>
  <div class="modal-body">
<form action="" id="pf">
    <div class="form-group col-xs-4 col-md-4">
        <label for="flowRate">
            Flow Rate (lbs/hr)
        </label>
        <input type="number" id="flowRate"  oninput="UpdatePFForm()"/>
    </div>
    <div class="form-group col-xs-4 col-md-4">
        <label for="ratedPressure">Rated Pressure (psi)</label>
        <input type="number" id="ratedPressure" oninput="UpdatePFForm()"/>
    </div>
    <div class="form-group col-xs-4 col-md-4">
        <label for="currentPressure">Current Pressure (psi)</label>
        <input type="number" id="currentPressure" oninput="UpdatePFForm()"/>
    </div>
</form>
</div>
<div class="modal-footer">
    <div style="float:left;">
       <h5>Calculated Flow Rate: <div id="pfres"></div> lbs/hr</h5>
    </div>
  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>

<script>
    var pf = document.forms["pf"];
    var pfres= document.getElementById('pfres');

    function UpdatePFForm()
    {
        var flowr = parseFloat(pf.elements["flowRate"].value);
        var rp = parseFloat(pf.elements["ratedPressure"].value);
        var cp = parseFloat(pf.elements["currentPressure"].value);
        console.log(cp);
        console.log(rp);
        console.log(flowr);
        console.log(Math.sqrt((cp/rp))*flowr);
        pfres.innerText = (Math.sqrt(cp / rp) * flowr).toFixed(2).toString();
    }
</script>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="BSFC" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Brake Specific Fuel Efficiency Calculator</h5>
  </div>
  <div class="modal-body">
<form action="" id="bsfc">
    <div class="form-group col-xs-4 col-md-4">
        <label for="lbsPerHour">
            Lbs of fuel per hour
        </label>
        <input type="number" id="lbsPerHour"  oninput="UpdateBSFCForm()"/>
    </div>
    <div class="form-group col-xs-4 col-md-4">
        <label for="hp">
            Horsepower
        </label>
        <input type="number" id="hp" oninput="UpdateBSFCForm()"/>
    </div>
</form>
</div>
<div class="modal-footer">
    <div style="float:left;">
       <h5>BSFC: <div id="bsfcres"></div></h5>
    </div>
  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>

<script>
    var bsfc = document.forms["bsfc"];
    var res= document.getElementById('bsfcres');

    function UpdateBSFCForm()
    {
        var lbs = parseFloat(bsfc.elements["lbsPerHour"].value);
        var hp = parseFloat(bsfc.elements["hp"].value);
        if (!isNaN(lbs) && !isNaN(hp))
        {
            bsfcres.innerText = (lbs/hp).toFixed(2).toString();
        }
    }
</script>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="mpglbs" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Miles Per Gallon To Lbs/Hour</h5>
  </div>
  <div class="modal-body">
<form action="" id="mpgLbsForm">
    <div class="form-group col-xs-4 col-md-4">
        <label for="mpgCity">
            Miles Per Gallon (City)
        </label>
        <input type="number" id="mpgCity" oninput="UpdateMPGForm()">
    </div>
    <div class="form-group col-xs-4 col-md-4">
        <label for="mpgHwy">
            Miles Per Gallon (Highway)
        </label>
        <input type="number" id="mpgHwy" oninput="UpdateMPGForm()">
    </div>
</form>
</div>
<div class="modal-footer">
    <div>
       <h5>City lbs/hr: <div id="lbsCity"></div></h5>
       <h5>Highway lbs/hr: <div id="lbsHwy"></div></h5>
    </div>
  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>

<script>
    var mpglbsf = document.forms["mpgLbsForm"];
    var mpglbsres1 = document.getElementById('lbsCity');
    var mpglbsres2 = document.getElementById('lbsHwy');

    function UpdateMPGForm()
    {
        mpglbsres1.innerText = ((21 / parseFloat(mpglbsf.elements["mpgCity"].value))*6.2).toFixed(2);
        mpglbsres2.innerText = ((48 / parseFloat(mpglbsf.elements["mpgHwy"].value))*6.2).toFixed(2);
    }
</script>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="max_clocks" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Maximum Clock Cycles Allowable @ RPM</h5>
  </div>
  <div class="modal-body">
<form action="" id="maxc">
    <div class="form-group col-xs-4 col-md-4">
        <label for="rpm">
            RPM
        </label>
        <input type="number" id="rpm"  oninput="UpdateMCForm()"/>
    </div>
    <div class="form-group col-xs-4 col-md-4">
        <label for="teeth">
            Teeth:
        </label>
        <input type="number" id="teeth" oninput="UpdateMCForm()"/>
    </div>
</form>
</div>
<div class="modal-footer">
    <div style="float:left;">
       <h5>Clocks: <div id="maxcres"></div></h5>
    </div>
  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>

<script>
    var maxc = document.forms["maxc"];
    var maxcres = document.getElementById('maxcres');

    function UpdateMCForm()
    {
        var rpm = parseInt(maxc.elements["rpm"].value);
        var teeth = parseInt(maxc.elements["teeth"].value);
        var _out = (((teeth/(rpm/60))/(360/teeth)) * 1000000)/(1/16);
        console.log(_out);
        maxcres.innerText = _out.toFixed(2).toString();
    }
</script>
    </div>
  </div>
</div>



</div>
<!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>